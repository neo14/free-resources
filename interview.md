[CC150（《Cracking the Coding Interview程序员面试金典》](http://www.nowcoder.com/discuss/3570?type=1&order=4&pos=6&page=1)

J2SE基础
1. 九种基本数据类型的大小，以及他们的封装类。
2. Switch能否用string做参数？
3. equals与==的区别。
4. Object有哪些公用方法？
5. Java的四种引用，强弱软虚，用到的场景。
6. Hashcode的作用。
7. ArrayList、LinkedList、Vector的区别。
8. String、StringBuffer与StringBuilder的区别。
9. Map、Set、List、Queue、Stack的特点与用法。
10. HashMap和HashTable的区别。
11. HashMap和ConcurrentHashMap的区别，HashMap的底层源码。
12. TreeMap、HashMap、LindedHashMap的区别。
13. Collection包结构，与Collections的区别。
14. try catch finally，try里有return，finally还执行么？
15. Excption与Error包结构。OOM你遇到过哪些情况，SOF你遇到过哪些情况。
16. Java面向对象的三个特征与含义。
17. Override和Overload的含义去区别。
18. Interface与abstract类的区别。
19. Static class 与non static class的区别。
20. java多态的实现原理。
21. 实现多线程的两种方法：Thread与Runable。
22. 线程同步的方法：sychronized、lock、reentrantLock等。
23. 锁的等级：方法锁、对象锁、类锁。
24. 写出生产者消费者模式。
25. ThreadLocal的设计理念与作用。
26. ThreadPool用法与优势。
27. Concurrent包里的其他东西：ArrayBlockingQueue、CountDownLatch等等。
28. wait()和sleep()的区别。
29. foreach与正常for循环效率对比。
30. Java IO与NIO。
31. 反射的作用于原理。
32. 泛型常用特点，List<String>能否转为List<Object>。
33. 解析XML的几种方式的原理与特点：DOM、SAX、PULL。
34. Java与C++对比。
35. Java1.7与1.8新特性。
36. 设计模式：单例、工厂、适配器、责任链、观察者等等。
37. JNI的使用。
Java里有很多很杂的东西，有时候需要你阅读源码，大多数可能书里面讲的不是太清楚，需要你在网上寻找答案。
推荐书籍：《java核心技术卷I》《Thinking in java》《java并发编程》《effictive java》《大话设计模式》
 
JVM
1. 内存模型以及分区，需要详细到每个区放什么。
2. 堆里面的分区：Eden，survival from to，老年代，各自的特点。
3. 对象创建方法，对象的内存分配，对象的访问定位。
4. GC的两种判定方法：引用计数与引用链。
5. GC的三种收集方法：标记清除、标记整理、复制算法的原理与特点，分别用在什么地方，如果让你优化收集方法，有什么思路？
6. GC收集器有哪些？CMS收集器与G1收集器的特点。
7. Minor GC与Full GC分别在什么时候发生？
8. 几种常用的内存调试工具：jmap、jstack、jconsole。
9. 类加载的五个过程：加载、验证、准备、解析、初始化。
10. 双亲委派模型：Bootstrap ClassLoader、Extension ClassLoader、ApplicationClassLoader。
11. 分派：静态分派与动态分派。
JVM过去过来就问了这么些问题，没怎么变，内存模型和GC算法这块问得比较多，可以在网上多找几篇博客来看看。
推荐书籍：《深入理解java虚拟机》
 
操作系统
1. 进程和线程的区别。
2. 死锁的必要条件，怎么处理死锁。
3. Window内存管理方式：段存储，页存储，段页存储。
4. 进程的几种状态。
5. IPC几种通信方式。
6. 什么是虚拟内存。
7. 虚拟地址、逻辑地址、线性地址、物理地址的区别。
因为是做android的这一块问得比较少一点，还有可能上我简历上没有写操作系统的原因。
推荐书籍：《深入理解现代操作系统》
 
TCP/IP
1. OSI与TCP/IP各层的结构与功能，都有哪些协议。
2. TCP与UDP的区别。
3. TCP报文结构。
4. TCP的三次握手与四次挥手过程，各个状态名称与含义，TIMEWAIT的作用。
5. TCP拥塞控制。
6. TCP滑动窗口与回退N针协议。
7. Http的报文结构。
8. Http的状态码含义。
9. Http request的几种类型。
10. Http1.1和Http1.0的区别
11. Http怎么处理长连接。
12. Cookie与Session的作用于原理。
13. 电脑上访问一个网页，整个过程是怎么样的：DNS、HTTP、TCP、OSPF、IP、ARP。
14. Ping的整个过程。ICMP报文是什么。
15. C/S模式下使用socket通信，几个关键函数。
16. IP地址分类。
17. 路由器与交换机区别。
网络其实大体分为两块，一个TCP协议，一个HTTP协议，只要把这两块以及相关协议搞清楚，一般问题不大。
推荐书籍：《TCP/IP协议族》
 
数据结构与算法
1. 链表与数组。
2. 队列和栈，出栈与入栈。
3. 链表的删除、插入、反向。
4. 字符串操作。
5. Hash表的hash函数，冲突解决方法有哪些。
6. 各种排序：冒泡、选择、插入、希尔、归并、快排、堆排、桶排、基数的原理、平均时间复杂度、最坏时间复杂度、空间复杂度、是否稳定。
7. 快排的partition函数与归并的Merge函数。
8. 对冒泡与快排的改进。
9. 二分查找，与变种二分查找。
10. 二叉树、B+树、AVL树、红黑树、哈夫曼树。
11. 二叉树的前中后续遍历：递归与非递归写法，层序遍历算法。
12. 图的BFS与DFS算法，最小生成树prim算法与最短路径Dijkstra算法。
13. KMP算法。
14. 排列组合问题。
15. 动态规划、贪心算法、分治算法。（一般不会问到）
16. 大数据处理：类似10亿条数据找出最大的1000个数.........等等
算法的话其实是个重点，因为最后都是要你写代码，所以算法还是需要花不少时间准备，这里有太多算法题，写不全，我的建议是没事多在OJ上刷刷题（牛客网、leetcode等），剑指offer上的算法要能理解并自己写出来，编程之美也推荐看一看。
推荐书籍：《大话数据结构》《剑指offer》《编程之美》

二、技术面 
这一轮面试主要是问Java基础，谢天谢地，这个我懂一点。不过面试一开始，面试官问了”打哪来啊“，”什么时候来的“，”学校怎么样“，貌似是面试官是为了缓解一开始我可能 会 紧张 的 气氛。面试官很Nice。 面试时间大概70分钟左右。 
1、如果不让你用Java Jdk提供的工具，你自己实现一个Map，你怎么做。 
说了好久，说了HashMap源代码，如果我做，就会借鉴HashMap的原理，说了一通HashMap实现 
2、Hash冲突怎么办？ 
还是HashMap的数组加链表机制 
3、HashMap冲突很厉害，最差性能，你会怎么解决 
从O（n）提升到log（n）咯，用二叉排序树的思路说了一通 
4、你的项目用的什么结构，为什么这么用，主要考虑解决什么问题？ 
以为又要说道项目，性能什么的，心里一紧。说吧。哼。然后用笔画了系统架构草图，主要从可扩展性、及安全性两方面说了一通。 
5、你对mysql熟悉吗？说说mysql索引如何建立的 
从b树说到b-树，然后重点说了b+树，画了草图。让面试官觉得自己知道挺多的样子，其实我们这些菜鸟面对这些大牛，哎，真的什么都不算哦
6、 对IO了解吗？String 编码UTF-8 和GBK的区别
当然说了解，基本功好伐。什么字节流、字符流、各种接口实现类。方法阻塞…… 
7、 什么时候使用字节流、什么时候使用字符流 
根据自己现在写的《一卡通小额支付借口》ISO8583报文随便聊了下，答的很不好。
8、了解设计模式吗？
说了一堆：单例、工厂、观察者、适配器、门面……
9、适配器模式的类图知道吗？
（哎，这个忘记了）回答的是：不记得，按照我现在对适配器模式的理解，类图应该这样这样……（又来了一个草图，感觉自己真的是厚颜无耻啊，在大牛面前不懂还装B） 
10、JVM有了解吗，可以说说吗？
自己从classload 加载方式，加载机制说开去，从程序运行时数据区，讲到内存分配，讲到String常量池，讲到JVM垃圾回收机制，算法，hotspot。反正就是各种扩展
11、你觉得你还有哪里比较擅长，在这次面试中没有聊起来的吗？
这 这这，我心里想，在你这大牛面前，怎敢提擅长两个字啊。然后弱弱的说了一句“SSH框架都有用过”——这下好了，把SSH技术原理都说了一通。 Struts2的原理体系架构啊，IoC啊，过滤器啊，拦截器啊。Hibernate的原理体系架构啊，五大核心接口啊，Hibernate对象的三种状 态转换啊。Spring的IoC、AOP啊，事务管理啊。

一、Java基础 
1.String类为什么是final的。 
2.HashMap的源码，实现原理，底层结构。 
3.反射中，Class.forName和classloader的区别 
4.session和cookie的区别和联系，session的生命周期，多个服务部署时session管理。 
5.Java中的队列都有哪些，有什么区别。 
6.Java的内存模型以及GC算法 
7.Java7、Java8的新特性(baidu问的,好BT) 
8.Java数组和链表两种结构的操作效率，在哪些情况下(从开头开始，从结尾开始，从中间开始)，哪些操作(插入，查找，删除)的效率高 
9.Java内存泄露的问题调查定位：jmap，jstack的使用等等 

二、框架 
1.struts1和struts2的区别 
2.struts2和springMVC的区别 
3.spring框架中需要引用哪些jar包，以及这些jar包的用途 
4.srpingMVC的原理 
5.springMVC注解的意思 
6.spring中beanFactory和ApplicationContext的联系和区别 
7.spring注入的几种方式 
8.spring如何实现事物管理的 
9.springIOC和AOP的原理 
10.hibernate中的1级和2级缓存的使用方式以及区别原理 
11.spring中循环注入的方式 

三、多线程 
1.Java创建线程之后，直接调用start()方法和run()的区别 
2.常用的线程池模式以及不同线程池的使用场景 
3.newFixedThreadPool此种线程池如果线程数达到最大值后会怎么办，底层原理。 
4.多线程之间通信的同步问题，synchronized锁的是对象，衍伸出和synchronized相关很多的具体问题，例如同一个类不同方法都有synchronized锁，一个对象是否可以同时访问。或者一个类的static构造方法加上synchronized之后的锁的影响。 
5.了解可重入锁的含义，以及ReentrantLock 和synchronized的区别 
6.同步的数据结构，例如concurrentHashMap的源码理解以及内部实现原理，为什么他是同步的且效率高
7.atomicinteger和volatile等线程安全操作的关键字的理解和使用 
8.线程间通信，wait和notify 
9.定时线程的使用 
10.场景：在一个主线程中，要求有大量(很多很多)子线程执行完之后，主线程才执行完成。多种方式，考虑效率。 

四、网络通信 
1.http是无状态通信，http的请求方式有哪些，可以自己定义新的请求方式么。 
2.socket通信，以及长连接，分包，连接异常断开的处理。 
3.socket通信模型的使用，AIO和NIO。 
4.socket框架netty的使用，以及NIO的实现原理，为什么是异步非阻塞。 
5.同步和异步，阻塞和非阻塞。 

五、Linux 
1.常用的linux下的命令 
2.大的log文件中，统计异常出现的次数、排序，或者指定输出多少行多少列的内容。(主要考察awk) 
3.linux下的调查问题思路：内存、CPU、句柄数、过滤、查找、模拟POST和GET请求等等场景 
4.shell脚本中#！的作用 

六、数据库MySql 
1.MySql的存储引擎的不同 
2.单个索引、联合索引、主键索引 
3.Mysql怎么分表，以及分表后如果想按条件分页查询怎么办(如果不是按分表字段来查询的话，几乎效率低下，无解) 
4.分表之后想让一个id多个表是自增的，效率实现 
5.MySql的主从实时备份同步的配置，以及原理(从库读主库的binlog)，读写分离 
6.写SQL语句。。。 
7.索引的数据结构，B+树 
8.事物的四个特性，以及各自的特点（原子、隔离）等等，项目怎么解决这些问题 

七、设计模式(写代码) 
1.单例模式：饱汉、饿汉。以及饿汉中的延迟加载 
2.工厂模式、装饰者模式、观察者模式。 

八、算法 
1.使用随机算法产生一个数，要求把1-1000W之间这些数全部生成。（考察高效率，解决产生冲突的问题） 
2.两个有序数组的合并排序 
3.一个数组的倒序 
4.计算一个正整数的正平方根 
5.说白了就是常见的那些查找排序算法（排序转载：http://mp.weixin.qq.com/s?__biz=MjM5MTAzMTE4Nw==&mid=204838393&idx=2&sn=e9b50c8ef689e2cb6436110a8dc148a3&scene=5#rd） 

九、缓存 
1.为什么用缓存，用过哪些缓存，redis和memcache的区别 
2.redis的数据结构 
3.redis的持久化方式，以及项目中用的哪种，为什么 
4.redis集群的理解，怎么动态增加或者删除一个节点，而保证数据不丢失。（一致性哈希问题） 

3、说说你知道的几个Java集合类 
自己说了一堆，从list、set、queue、map实现类咯。。。 
4、描述一下ArrayList和LinkedList的区别 
挺简单的吧 
5、实现多线程有几种方式，多线程同步怎么做，说说几个线程里常用的方法 
最后一个没回答就这么过了，当时估计脑子短路，没听懂他在说什么 
6、说说mysql的索引，索引如何建立 
就是b+树咯 
7、Spring用的怎么样，看过源码吗？ 
（源码还真没看过） 
8 、了解AOP吗？说说AOP原理，Spring如何实现AOP的 
Spring两大核心咯IoC、AOP 这个还是要会的吧 
电面现在貌似就只想的起来这么几个问题。 


（1）简单介绍一下自己的情况，实习时间等；
（2）请说一下打开www.baidu.com这个网站，所有过程；
（3）socket通信过程，accept()函数是什么；
（4）锁是什么，死锁是什么一回事；
（5）不使用数学函数开方运算的情况下，求解开方运算；
（6）epoll，select听说过吗
（7）说一下C++中，虚函数和纯虚函数的区别是什么？
（7）你有什么问题？

（1）简单自我介绍，说说自己做的项目
（2）说一下Java中的继承，类，接口
（3）说一下Java的垃圾回收机制
（4）说一个你最了解的算法，算法过程和算法复杂度
（5）说一下Java中同步的问题， synchronized的用法
（6）SSH框架中，请说一下Spring的注解是怎么实现的？
（7）hashcode的作用是什么？
（8）请说一下java中的一些常用函数。

1.Java基础 ArrayList,HashMap等集合框架类，重要基础类String等的处理。HashMap的底层存储结构等。 （也可以顺带考察下对接口，继承，重载重写的基本理解；以及异常处理的注意事项）。
 
 
2. 数据结构与算法 常见的查找算法及时间复杂度。 常见的排序算法及时间复杂度。 比较重要的数据结构，如链表，队列，栈的基本理解及大致实现。
 
3. 多线程问题
 
1）线程安全问题。 HashMap 是否线程安全，为何不安全。 ConcurrentHashMap，线程安全，为何安全。底层实现是怎么样的。
 
2）J.U.C下的常见类的使用。 ThreadPool的深入考察； BlockingQueue的使用。（take，poll的区别，put，offer的区别）；
 
原子类的实现。
 
4）各种常见锁使用 如果上面这些掌握很好，还可以看看更深一点的 False Sharing，Cache Line，可见性与原子性等；
 
4. JVM Java内存分代模型，GC算法，JVM常见的启动参数； CMS算法的过程。 这块回答较好，也可以只是看毕玄的Java分布式开发或网上文章的学习， 可以结合JVM启动参数常见配置，jstat等命令，看下动手能力，意愿；以及实际线上问题排查。
 
5.Linux使用与问题分析排查
 
1）. grep，awk，sed； 是否自己写过shell脚本；
2）. 常见的cpu load过高，us过高，一般是什么问题。引申出是否用过top，jstat，jstack等。 常见的内存问题一般有哪些。 引申出是否用过free，top， jmap等。
 
6. 框架使用 spring aop的底层实验原理。 aop与cglib，与asm的关系。 spriong ioc的生命周期，（init-method，intilizingbean接口方法afterPropertiesSet的先后顺序）等。 Hibernate对一二级缓存的使用，Lazy-Load的理解；
 
7. 数据库相关： 1. mysql存储引擎中索引的实现机制； 2.数据库事务的几种粒度； 3.行锁，表锁；乐观锁，悲观锁
 
8.网络协议： HTTP协议； HTTPS协议，SSL协议及完整交互过程；
 
9. redis redis，memcache底层客户端使用一致性Hash，看是否了解； redis的事件驱动多路复用底层实现；引申到NIO编程， 看对Netty，或mina是否了解。 如果候选者同时用过memcache，redis，看下是否了解两者在使用场景上的区别。以考察使用深度，以及是否有好奇精神。
 
10. 设计模式与重构 常见设计模式，如singlen，factory，abstract factory，strategy，chain，adaptor，decorator，composite，template，absever等。 重构：重构书籍
 
11. 学习与进取心 最近上过上哪些技术站点； 最近在看哪些书。
 
12. 抗压能力及抗压意愿 了解加班情况，了解是否愿意在一段时间996等；
 
13 稳定性考察 了解家庭婚姻状况， 了解购房及居住地，籍贯情况，了解目前薪资，评估稳定性； =======
 
1.进程和线程的区别
 
2.什么叫线程安全？举例说明
 
3.OSI七层模型，包括TCP,IP的一些基本知识
 
4.数据库的锁
 
5.DFS,BFS算法
 
6.还有一些诸如collection framework的Java基础
 
7、http中，get post的区别 其他的面试，感觉问的很有代表性：
 
第一面(只记得这么多了)
 
1、笔试题第四题实现又口述了下
 
2、有个每秒钟5k个请求，查询手机号所属地的笔试题(记得不完整，没列出)，如何设计算法?请求再多，比如5w，如何设计整个系统?
 
3、比较熟悉什么技术?我说jvm和oracle，就让我画jvm的体系结构，画了之后说各个部分的职责，并扯到运行期优化。
 
第二面(没有技术细节，都是泛泛的，但是我回答的比较保守，只觉得能滔滔不绝的说上半小时才敢说看过或了解)
 
1、是否愿意去杭州
2、熟悉各种技术框架么?源码读过么?
3、数据库了解什么?mysql了解么
4、前台技术，看我用的ExtJS，就问是否了解JQuery
5、进现在的公司，觉得对技术是否有提升?
 
第三面，此面没有技术问题
 
第四面HR(感觉这面问题回答的有点扯，毕竟是这么几年来首次面HR，之前面过2、3个公司，要么很早就挂了，要么感觉流程太长，自己不愿意面下去)
 
1、愿意去杭州发展么?我说要考虑，hr就问主要考虑什么问题
 
2、从技术角度来说，你觉得你跟你同学比怎么样
 
3、你的父母怎么看待你的
 
1、jvm性能调优都做了什么
 
2、高并发情况下，我们系统是如何支撑大量的请求的
 
3、集群如何同步会话状态
 
4、负载均衡的原理
 
5、数据库事务属性
 
6、二叉树的遍历算法
 
7、hashtable和hashmap的区别
 
8、并发、同步的接口或方法
 
9、string、stringbuilder、stringbuffer区别
 
10、https处理的一个过程，对称加密和非对称加密
 
11、线程的几种状态
 
12、了解手机开发么
 
13、个人优势
 
14、与同事沟通的时候，如果遇到冲突了如何解决
 
15、工作中觉得哪方面欠缺?
 
16、有问题要问么?
 
17、期望薪水
 
18、为什么要离开现在的公司
 
* struts1.2和webwork的区别
 
* hibernate和ibatis的区别
 
* spring工作机制，IOC容器
 
* servlet的一些相关问题
 
* webservice相关
 
* java基础：jvm，HashSet等等
 
l       考察学习新技术的能力
其他：
1. 店铺相关的业务特点决定，有前后端知识是加分项。 如果候选者熟悉javascript。 可以考察：
 
1） 前后端优化的基本常识，比如js放在后面不阻塞等；原生js的理解，正则，时间冒泡等。
2）firebug，fiddle等调试工具；
 
3）如果是基本使用，看下ext框架，jquery等熟悉程度。jquery插件机制，sizzle选择器。 如果以上都不错，可以再深入考察
 
1）作用域链， 闭包的理解。
2）看下是否了解最新的技术。 augularJS， nodejs，cmd规范，amd规范等。
 一面 （这可能是所有面试发挥最好，1小时）
问题1：项目难点。说了一下用到java反射机制的地方以及多线程建索引。
问题2：项目中用到的最复杂数据结构，回答没有。。。然后他问TreeMap听过没有，为什么查询速度会很快
答：treemap底层实现是红黑树，红黑树是一种平衡二叉树，它的时间复杂度是O(H)，h为树的高度，而红黑树通过它五个性质保证了树的高度为O(logn)，所以它的查询速度快(注意此处，故意提到5个性质，之前内推实习问到红黑树)。果不其然。
问题3：红黑树的5个性质是什么，快速回答之。
问题4：Object类的方法有哪些。这个问题恰巧被寝室的问到过
答：getClass/hashCode/equals/clone/toString/notify/notifyAll/wait/finalize
问题5：你刚才提到了hashCode方法，如果不重写hashCode方法会导致什么问题
答：java编程思想上面有，object的hashcode方法是根据内存地址来hash的，如果你需要根据对象的某个属性来存取的话，就会找不到该对象，重写hashcode一般必须重写equals。。。
问题6：TCP建立连接之后怎么保持连接
答：之前没有了解过，不知道是通过心跳包来保持连接的，随便扯了下TCP的三路握手。。。囧~~
问题7：说一下java集合框架
答：balabalabala，最后提到并发库，concurrentHashMap（当时紧张，还忘了怎么拼）。
问题8：concurrentHashMap为什么性能高
答：分段锁，16个写锁，重复读锁。并说了一下hashtable的性能为什么低（整表加锁）。
问题9：了解存储过程么，说一下优缺点。
答：无语。。。缺点还真没想过，先说的优点，缓存提高性能、精简代码、增加安全性、降低网络流量。本想蒙混过关，结果追问缺点呢。。。呃，可能就是存储过程没写好不好用吧，而且不灵活。。。= =！ 面试官：好的，下一题。。。
问题9：数据库优化性能
答：这个在java面试宝典上面有，建立索引，建立分区，尽量使用固定长度的字段，限制字段长度；增加缓存使用连接池；减少SQL语句的比较次数，限制返回的条目数。。。还有一条想不起来，面试官提示：你刚从数据库，IO，语句方面说了可以优化，还有没有其他方面可以优化呢？ 突然想到了java方面，对于反复使用的语句，使用preparedStatement。追问：preparedStatement与普通的statement有什么不同。答：preparedStatement会预先编译语句，并缓存改善性能。（阿里面试官就是不错，不仅提示，还帮总结的）。
问题10：简述一下tcp/ip协议
问题11：应用层有哪些协议
问题12：听过DNS劫持么
答：听过。。。怎么预防，不知道，随便说了个MAC地址绑定。。。无语~~后来发现潘爱民版的计算机网络上面有。
问题13：中国最大的DNS提供商
答：不知道，之后查资料发现，DNS提供商有360，阿里巴巴...好吧。。。
问题14：http端口，tomcat端口
问题15：Http响应状态号，服务器错误状态号是多少。
答：只知道404 not found。后来查阅发现服务器错误是5XX，请求错误是4XX，重定向是3XX，成功是2XX，消息是1XX。
问题16：get和post的区别
答：从逻辑上get是安全的，post是不安全的。get一般用于获取数据，post可以用来提交数据，如表单。追问：get不能提交数据么，可以，不过需要跟在url后面，这样安全性会降低，如果使用url传递用户名，密码的话会非常不安全，因为全部为明文的。而且get有最大长度限制，因为url每种浏览器都有一个最大长度。
问题17：开放性问题，如果让你设计淘宝架构，用于支持双11的访问量，你怎么设计。
答：1、减少http请求，将js,css文件打包成一个文件。其实还有页面静态化，之前项目有涉及。
2、内容分发CDN，我回答的是根据用户的IP，将用户请求负载均衡到就近的数据中心。追问：如何负载均衡？可以根据IP hash生成，根据请求响应延时负载均衡。追问：这几种负载均衡属于哪种负载均衡，答不知道。他说属于软负载均衡。然后我问他还有哪种负载均衡策略。他说还有硬负载均衡。然后我再问，这样的话是不是用软件做负载均衡就是软负载，硬件做负载均衡就是硬负载。他说也可以这么理解，哈哈。最后提示我其实可以用DNS做负载均衡，这就是内容分发的思想了。
3、在每个数据中心中建立缓存。web代理的思想（详见计算机网络，潘爱民版，神书，师弟师妹不要错过）。
4、tomcat使用短连接，或者降低keep-alive时间。追问长连接和短连接的区别，哪个版本使用长连接。（此处也故意提高短连接，这是一个面试技巧，尽量提到相关的技术）。
5、数据库优化，具体方法之前问过。
问题18：还有什么补充的。说了一下项目用到的主从复制思想。


1.Java基础
     ArrayList,HashMap等集合框架类，重要基础类String等的处理。HashMap的底层存储结构等。
    （也可以顺带考察下对接口，继承，重载重写的基本理解；以及异常处理的注意事项）。 
2. 数据结构与算法
   常见的查找算法及时间复杂度。
   常见的排序算法及时间复杂度。 
   比较重要的数据结构，如链表，队列，栈的基本理解及大致实现。
3. 多线程问题
   1）线程安全问题。 HashMap 是否线程安全，为何不安全。 ConcurrentHashMap，线程安全，为何安全。底层实现是怎么样的。
   2）J.U.C下的常见类的使用。 ThreadPool的深入考察； BlockingQueue的使用。（take，poll的区别，put，offer的区别）；原子类的实现。
   4）各种常见锁使用
如果上面这些掌握很好，还可以看看更深一点的 False Sharing，Cache Line，可见性与原子性等；
 
4. JVM
    Java内存分代模型，GC算法，JVM常见的启动参数； CMS算法的过程。
    这块回答较好，也可以只是看毕玄的Java分布式开发或网上文章的学习， 可以结合JVM启动参数常见配置，jstat等命令，看下动手能力，意愿；以及实际线上问题排查。
 
5.Linux使用与问题分析排查
    1）. grep，awk，sed； 是否自己写过shell脚本；
    2）. 常见的cpu load过高，us过高，一般是什么问题。引申出是否用过top，jstat，jstack等。
        常见的内存问题一般有哪些。 引申出是否用过free，top， jmap等。
 
6. 框架使用
    spring aop的底层实验原理。 aop与cglib，与asm的关系。
    spriong ioc的生命周期，（init-method，intilizingbean接口方法afterPropertiesSet的先后顺序）等。
   Hibernate对一二级缓存的使用，Lazy-Load的理解；
7. 数据库相关：
   1. mysql存储引擎中索引的实现机制；
   2.数据库事务的几种粒度；
   3.行锁，表锁；乐观锁，悲观锁
 
8.网络协议：
   HTTP协议；
   HTTPS协议，SSL协议及完整交互过程；
 
9. redis
   redis，memcache底层客户端使用一致性Hash，看是否了解；
   redis的事件驱动多路复用底层实现；引申到NIO编程， 看对Netty，或mina是否了解。
  如果候选者同时用过memcache，redis，看下是否了解两者在使用场景上的区别。以考察使用深度，以及是否有好奇精神。
 
10. 设计模式与重构
    常见设计模式，如singlen，factory，abstract factory，strategy，chain，adaptor，decorator，composite，template，absever等。
    重构：重构书籍
 
11. 学习与进取心
    最近上过上哪些技术站点； 最近在看哪些书。
 
12. 抗压能力及抗压意愿
    了解加班情况，了解是否愿意在一段时间996等；
13 稳定性考察
      了解家庭婚姻状况， 了解购房及居住地，籍贯情况，了解目前薪资，评估稳定性；
=======
1.进程和线程的区别
2.什么叫线程安全？举例说明
3.OSI七层模型，包括TCP,IP的一些基本知识
4.数据库的锁
5.DFS,BFS算法
6.还有一些诸如collection framework的Java基础
7、http中，get post的区别
其他的面试，感觉问的很有代表性：
第一面(只记得这么多了)
1、笔试题第四题实现又口述了下
2、有个每秒钟5k个请求，查询手机号所属地的笔试题(记得不完整，没列出)，如何设计算法?请求再多，比如5w，如何设计整个系统?
3、比较熟悉什么技术?我说jvm和oracle，就让我画jvm的体系结构，画了之后说各个部分的职责，并扯到运行期优化。
第二面(没有技术细节，都是泛泛的，但是我回答的比较保守，只觉得能滔滔不绝的说上半小时才敢说看过或了解)
1、是否愿意去杭州
2、熟悉各种技术框架么?源码读过么?
3、数据库了解什么?mysql了解么
4、前台技术，看我用的ExtJS，就问是否了解JQuery
5、进现在的公司，觉得对技术是否有提升?
第三面，此面没有技术问题
第四面HR(感觉这面问题回答的有点扯，毕竟是这么几年来首次面HR，之前面过2、3个公司，要么很早就挂了，要么感觉流程太长，自己不愿意面下去)
1、愿意去杭州发展么?我说要考虑，hr就问主要考虑什么问题
2、从技术角度来说，你觉得你跟你同学比怎么样
3、你的父母怎么看待你的
      1、jvm性能调优都做了什么
2、高并发情况下，我们系统是如何支撑大量的请求的
3、集群如何同步会话状态
4、负载均衡的原理
5、数据库事务属性
6、二叉树的遍历算法
7、hashtable和hashmap的区别
8、并发、同步的接口或方法
9、string、stringbuilder、stringbuffer区别
10、https处理的一个过程，对称加密和非对称加密
11、线程的几种状态
12、了解手机开发么
13、个人优势
14、与同事沟通的时候，如果遇到冲突了如何解决
15、工作中觉得哪方面欠缺?
16、有问题要问么?
17、期望薪水
18、为什么要离开现在的公司
* struts1.2和webwork的区别
* hibernate和ibatis的区别
* spring工作机制，IOC容器
* servlet的一些相关问题
* webservice相关
* java基础：jvm，HashSet等等
* 考察学习新技术的能力
 
其他：
   1.  店铺相关的业务特点决定，有前后端知识是加分项。 如果候选者熟悉javascript。
可以考察：
    1） 前后端优化的基本常识，比如js放在后面不阻塞等；原生js的理解，正则，时间冒泡等。
    2）firebug，fiddle等调试工具；  
    3）如果是基本使用，看下ext框架，jquery等熟悉程度。jquery插件机制，sizzle选择器。
     如果以上都不错，可以再深入考察   
   1）作用域链， 闭包的理解。
   2）看下是否了解最新的技术。 augularJS， nodejs，cmd规范，amd规范等。


数据结构与算法部分：
给最外层的rootview，把这个根视图下的全部button背景设置成红色，手写代码，不许用递归
给一串字符串比如abbbcccd，输出a1b3c3d1，手写代码（注意有个别字符可能会出现十次以上的情况）
一个序列，它的形式是12349678，9是最高峰，经历了一个上升又下降的过程，找出里面的最大值的位置，要求效率尽可能高
二叉查找树的删除操作，手写代码
反转链表，手写代码
二分查找，手写代码
有海量条 url，其中不重复的有300万条，现在希望挑选出重复出现次数最高的 url，要求效率尽可能的高
一篇英语文章，去掉字符只留下k个，如何去掉才能使这k个字符字典序最小
弗洛伊德算法和 Dijkstra算法的区别？复杂度是多少？讲讲 Dijkstra算法的具体过程
反转字符串，要求手写代码，优化速度、优化空间
给出两个无向图，找出这2个无向图中相同的环路。手写代码
单例模式，手写代码
生产者与消费者，手写代码
二叉树镜像，手写代码
最长不重复子串（最长重复子串），手写代码

操作系统部分：
分别从操作系统的内存角度与进程线程角度解释分析堆，栈二者的区别
什么是事务？
OSI七层模型有哪些，各层次的作用
TCP的三次握手过程，四次挥手过程，为什么需要三次？
说说操作系统中进程的通信方式
浏览器输入地址之后，之后的过程
谈谈 HTTP 中Get 和 Post 方法的区别？


J2EE 部分：
Switch能否用string做参数？
在 Java 7  之前, switch 只能支持byte,short,char,int 或者其对应的封装类以及 Enum 类型。在JAVA 7中,String 支持被加上了。   
equals与==的区别：
==是判断两个变量或实例是不是指向同一个内存空间 
equals是判断两个变量或实例所指向的内存空间的值是不是相同 
Object有哪些公用方法？
方法equals测试的是两个对象是否相等
方法clone进行对象拷贝
方法getClass返回和当前对象相关的Class对象
方法notify,notifyall,wait都是用来对给定对象进行线程同步的
Java的四种引用，强弱软虚，用到的场景
强引用：如果一个对象具有强引用，它就不会被垃圾回收器回收。即使当前内存空间不足，JVM 也不会回收它，而是抛出 OutOfMemoryError 错误，使程序异常终止。如果想中断强引用和某个对象之间的关联，可以显式地将引用赋值为null，这样一来的话，JVM在合适的时间就会回收该对象
软引用：在使用软引用时，如果内存的空间足够，软引用就能继续被使用，而不会被垃圾回收器回收，只有在内存不足时，软引用才会被垃圾回收器回收。
弱引用：具有弱引用的对象拥有的生命周期更短暂。因为当 JVM 进行垃圾回收，一旦发现弱引用对象，无论当前内存空间是否充足，都会将弱引用回收。不过由于垃圾回收器是一个优先级较低的线程，所以并不一定能迅速发现弱引用对象
虚引用：顾名思义，就是形同虚设，如果一个对象仅持有虚引用，那么它相当于没有引用，在任何时候都可能被垃圾回收器回收。
使用场景：
利用软引用和弱引用解决OOM问题：用一个HashMap来保存图片的路径和相应图片对象关联的软引用之间的映射关系，在内存不足时，JVM会自动回收这些缓存图片对象所占用的空间，从而有效地避免了OOM的问题
通过软可及对象重获方法实现Java对象的高速缓存:比如我们创建了一Employee的类，如果每次需要查询一个雇员的信息。哪怕是几秒中之前刚刚查询过的，都要重新构建一个实例，这是需要消耗很多时间的。我们可以通过软引用和 HashMap 的结合，先是保存引用方面：以软引用的方式对一个Employee对象的实例进行引用并保存该引用到HashMap 上，key 为此雇员的 id，value为这个对象的软引用，另一方面是取出引用，缓存中是否有该Employee实例的软引用，如果有，从软引用中取得。如果没有软引用，或者从软引用中得到的实例是null，重新构建一个实例，并保存对这个新建实例的软引用
Hashcode的作用，与 equal 有什么区别
同样用于鉴定2个对象是否相等的，java集合中有 list 和 set 两类，其中 set不允许元素重复实现，那个这个不允许重复实现的方法，如果用 equal 去比较的话，如果存在1000个元素，你 new 一个新的元素出来，需要去调用1000次 equal 去逐个和他们比较是否是同一个对象，这样会大大降低效率。hashcode实际上是返回对象的存储地址，如果这个位置上没有元素，就把元素直接存储在上面，如果这个位置上已经存在元素，这个时候才去调用equal方法与新元素进行比较，相同的话就不存了，散列到其他地址上
String、StringBuffer与StringBuilder的区别
String 类型和 StringBuffer 类型的主要性能区别其实在于 String 是不可变的对象
StringBuffer和StringBuilder底层是 char[]数组实现的
StringBuffer是线程安全的，而StringBuilder是线程不安全的
Override和Overload的含义去区别
Overload顾名思义是重新加载，它可以表现类的多态性，可以是函数里面可以有相同的函数名但是参数名、返回值、类型不能相同；或者说可以改变参数、类型、返回值但是函数名字依然不变。
就是ride(重写)的意思，在子类继承父类的时候子类中可以定义某方法与其父类有相同的名称和参数，当子类在调用这一函数时自动调用子类的方法，而父类相当于被覆盖（重写）了。
抽象类和接口的区别
一个类只能继承单个类，但是可以实现多个接口
接口强调特定功能的实现，而抽象类强调所属关系
抽象类中的所有方法并不一定要是抽象的，你可以选择在抽象类中实现一些基本的方法。而接口要求所有的方法都必须是抽象的
解析XML的几种方式的原理与特点：DOM、SAX、PULL
DOM：消耗内存：先把xml文档都读到内存中，然后再用DOM API来访问树形结构，并获取数据。这个写起来很简单，但是很消耗内存。要是数据过大，手机不够牛逼，可能手机直接死机
SAX：解析效率高，占用内存少，基于事件驱动的：更加简单地说就是对文档进行顺序扫描，当扫描到文档(document)开始与结束、元素(element)开始与结束、文档(document)结束等地方时通知事件处理函数，由事件处理函数做相应动作，然后继续同样的扫描，直至文档结束。
SAX：与 SAX 类似，也是基于事件驱动，我们可以调用它的next（）方法，来获取下一个解析事件（就是开始文档，结束文档，开始标签，结束标签），当处于某个元素时可以调用XmlPullParser的getAttributte()方法来获取属性的值，也可调用它的nextText()获取本节点的值。
wait()和sleep()的区别
sleep来自Thread类，和wait来自Object类
调用sleep()方法的过程中，线程不会释放对象锁。而 调用 wait 方法线程会释放对象锁
sleep睡眠后不出让系统资源，wait让出系统资源其他线程可以占用CPU
sleep(milliseconds)需要指定一个睡眠时间，时间一到会自动唤醒
JAVA 中堆和栈的区别，说下java 的内存机制
基本数据类型比变量和对象的引用都是在栈分配的
堆内存用来存放由new创建的对象和数组
类变量（static修饰的变量），程序在一加载的时候就在堆中为类变量分配内存，堆中的内存地址存放在栈中
实例变量：当你使用java关键字new的时候，系统在堆中开辟并不一定是连续的空间分配给变量，是根据零散的堆内存地址，通过哈希算法换算为一长串数字以表征这个变量在堆中的"物理位置”,实例变量的生命周期--当实例变量的引用丢失后，将被GC（垃圾回收器）列入可回收“名单”中，但并不是马上就释放堆中内存
局部变量: 由声明在某方法，或某代码段里（比如for循环），执行到它的时候在栈中开辟内存，当局部变量一但脱离作用域，内存立即释放
JAVA多态的实现原理 
抽象的来讲，多态的意思就是同一消息可以根据发送对象的不同而采用多种不同的行为方式。（发送消息就是函数调用）
实现的原理是动态绑定，程序调用的方法在运行期才动态绑定，追溯源码可以发现，JVM 通过参数的自动转型来找到合适的办法。
JAVA 垃圾回收机制
什么是垃圾回收机：释放那些不再持有引用的对象的内存
怎么判断一个对象是否需要收集？
引用计数（最简单古老的方法）：指将资源（可以是对象、内存或磁盘空间等等）的被引用次数保存起来，当被引用次数变为零时就将其释放的过程
对象引用遍历（现在大多数 jvm 使用的方法）：对象引用遍历从一组对象开始，沿着整个对象图上的每条链接，递归确定可到达（reachable）的对象。如果某对象不能从这些根对象的一个（至少一个）到达，则将它作为垃圾收集
几种垃圾回收机制 
标记回收法：遍历对象图并且记录可到达的对象，以便删除不可到达的对象，一般使用单线程工作并且可能产生内存碎片
标记-压缩回收法：前期与第一种方法相同，只是多了一步，将所有的存活对象压缩到内存的一端，这样内存碎片就可以合成一大块可再利用的内存区域，提高了内存利用率
复制回收法：把现有内存空间分成两部分，gc运行时，它把可到达对象复制到另一半空间，再清空正在使用的空间的全部对象。这种方法适用于短生存期的对象，持续复制长生存期的对象则导致效率降低。 
分代回收发：把内存空间分为两个或者多个域，如年轻代和老年代，年轻代的特点是对象会很快被回收，因此在年轻代使用效率比较高的算法。当一个对象经过几次回收后依然存活，对象就会被放入称为老年的内存空间，老年代则采取标记-压缩算法
讲讲 Java 中的集合有多少种，区别是什么？
ArrayList、LinkedList、Vector的区别：ArrayList 和Vector底层是采用数组方式存储数据，Vector由于使用了synchronized方法（线程安全）所以性能上比ArrayList要差，LinkedList使用双向链表实现存储，随机存取比较慢
HashMap的底层源码实现：当我们往HashMap中put元素的时候，先根据key的hashCode重新计算hash值，根据hash值得到这个元素在数组中的位置（即下标），如果数组该位置上已经存放有其他元素了，那么在这个位置上的元素将以链表的形式存放，新加入的放在链头，最先加入的放在链尾。如果数组该位置上没有元素，就直接将该元素放到此数组中的该位置上。
Fail-Fast机制:在使用迭代器的过程中有其他线程修改了map，那么将抛出ConcurrentModificationException，这就是所谓fail-fast机制。这一机制在源码中的实现是通过modCount域，modCount顾名思义就是修改次数，对HashMap内容的修改都将增加这个值，那么在迭代器初始化过程中会将这个值赋给迭代器的expectedModCount。在迭代过程中，判断modCount跟expectedModCount是否相等，如果不相等就表示已经有其他线程修改了Map.
HashMap和 HashTable 的区别：
HashTable比较老，是基于Dictionary 类实现的，HashTable 则是基于 Map接口实现的
HashTable 是线程安全的， HashMap 则是线程不安全的
HashMap可以让你将空值作为一个表的条目的key或value